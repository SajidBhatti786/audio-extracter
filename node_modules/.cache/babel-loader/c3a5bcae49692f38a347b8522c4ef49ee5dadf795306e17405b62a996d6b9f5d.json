{"ast":null,"code":"import _regeneratorRuntime from\"D:/Audio extractor/audio-extracter/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/Audio extractor/audio-extracter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/Audio extractor/audio-extracter/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){// AssemblyAI API\nvar assembly=axios.create({baseURL:\"https://api.assemblyai.com/v2\",headers:{authorization:\"cd610432583949c2b0404f55a064ec75\",\"content-type\":\"application/json\",\"transfer-encoding\":\"chunked\"}});// State variables\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),transcript=_useState2[0],setTranscript=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];// Handle file selection\nvar handleFileChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var selectedFile,formData,uploadResponse,uploadURL;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:selectedFile=event.target.files[0];if(selectedFile){_context.next=4;break;}alert(\"Please select an audio file.\");return _context.abrupt(\"return\");case 4:formData=new FormData();formData.append(\"audio\",selectedFile);_context.prev=6;_context.next=9;return assembly.post(\"/upload\",selectedFile);case 9:uploadResponse=_context.sent;if(uploadResponse.status===200){uploadURL=uploadResponse.data.upload_url;submitTranscription(uploadURL);}else{alert(\"File upload to AssemblyAI failed.\");}_context.next=17;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](6);console.error(_context.t0);alert(\"An error occurred while uploading the file.\");case 17:case\"end\":return _context.stop();}},_callee,null,[[6,13]]);}));return function handleFileChange(_x){return _ref.apply(this,arguments);};}();var submitTranscription=function submitTranscription(uploadURL){setIsLoading(true);assembly.post(\"/transcript\",{audio_url:uploadURL,language_detection:true}).then(function(response){var transcriptID=response.data.id;checkTranscriptionStatus(transcriptID);}).catch(function(error){console.error(error);alert(\"Transcription request to AssemblyAI failed.\");});};var checkTranscriptionStatus=function checkTranscriptionStatus(transcriptID){var interval=setInterval(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,transcriptData;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return assembly.get(\"/transcript/\".concat(transcriptID));case 3:response=_context2.sent;transcriptData=response.data;console.log(response);if(transcriptData.status===\"completed\"){clearInterval(interval);setIsLoading(false);setTranscript(transcriptData.text);}_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);alert(\"An error occurred while checking transcription status.\");case 13:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);})),1000);};var downloadTranscript=function downloadTranscript(){var element=document.createElement(\"a\");var file=new Blob([transcript],{type:\"text/plain\"});element.href=URL.createObjectURL(file);element.download=\"transcript.txt\";element.click();};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Audio Transcription App\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"audio/*\",onChange:handleFileChange}),isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Transcribing...\"}):/*#__PURE__*/_jsx(\"p\",{children:transcript}),transcript&&/*#__PURE__*/_jsx(\"button\",{onClick:downloadTranscript,children:\"Download Transcript\"})]});};export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","App","assembly","create","baseURL","headers","authorization","_useState","_useState2","_slicedToArray","transcript","setTranscript","_useState3","_useState4","isLoading","setIsLoading","handleFileChange","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","event","selectedFile","formData","uploadResponse","uploadURL","wrap","_callee$","_context","prev","next","target","files","alert","abrupt","FormData","append","post","sent","status","data","upload_url","submitTranscription","t0","console","error","stop","_x","apply","arguments","audio_url","language_detection","then","response","transcriptID","id","checkTranscriptionStatus","catch","interval","setInterval","_callee2","transcriptData","_callee2$","_context2","get","concat","log","clearInterval","text","downloadTranscript","element","document","createElement","file","Blob","type","href","URL","createObjectURL","download","click","children","accept","onChange","onClick"],"sources":["D:/Audio extractor/audio-extracter/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nconst App = () => {\n  // AssemblyAI API\n  const assembly = axios.create({\n    baseURL: \"https://api.assemblyai.com/v2\",\n    headers: {\n      authorization: \"cd610432583949c2b0404f55a064ec75\",\n      \"content-type\": \"application/json\",\n      \"transfer-encoding\": \"chunked\",\n    },\n  });\n\n  // State variables\n  const [transcript, setTranscript] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n\n  // Handle file selection\n  const handleFileChange = async (event) => {\n    const selectedFile = event.target.files[0];\n\n    if (!selectedFile) {\n      alert(\"Please select an audio file.\");\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"audio\", selectedFile);\n\n    try {\n      const uploadResponse = await assembly.post(\"/upload\", selectedFile);\n\n      if (uploadResponse.status === 200) {\n        const uploadURL = uploadResponse.data.upload_url;\n\n        submitTranscription(uploadURL);\n      } else {\n        alert(\"File upload to AssemblyAI failed.\");\n      }\n    } catch (error) {\n      console.error(error);\n      alert(\"An error occurred while uploading the file.\");\n    }\n  };\n\n  const submitTranscription = (uploadURL) => {\n    setIsLoading(true);\n    assembly\n      .post(\"/transcript\", { audio_url: uploadURL, language_detection: true })\n      .then((response) => {\n        const transcriptID = response.data.id;\n\n        checkTranscriptionStatus(transcriptID);\n      })\n      .catch((error) => {\n        console.error(error);\n        alert(\"Transcription request to AssemblyAI failed.\");\n      });\n  };\n\n  const checkTranscriptionStatus = (transcriptID) => {\n    const interval = setInterval(async () => {\n      try {\n        const response = await assembly.get(`/transcript/${transcriptID}`);\n        const transcriptData = response.data;\n        console.log(response);\n\n        if (transcriptData.status === \"completed\") {\n          clearInterval(interval);\n          setIsLoading(false);\n          setTranscript(transcriptData.text);\n        }\n      } catch (error) {\n        console.error(error);\n        alert(\"An error occurred while checking transcription status.\");\n      }\n    }, 1000);\n  };\n  const downloadTranscript = () => {\n    const element = document.createElement(\"a\");\n    const file = new Blob([transcript], { type: \"text/plain\" });\n    element.href = URL.createObjectURL(file);\n    element.download = \"transcript.txt\";\n    element.click();\n  };\n  return (\n    <div>\n      <h1>Audio Transcription App</h1>\n      <input type=\"file\" accept=\"audio/*\" onChange={handleFileChange} />\n      {isLoading ? <p>Transcribing...</p> : <p>{transcript}</p>}\n\n      {transcript && (\n        <button onClick={downloadTranscript}>Download Transcript</button>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}